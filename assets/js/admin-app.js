class n{constructor(){this.inputCodeKey=document.getElementById("code_key"),this.submitButton=document.getElementById("submit"),this.activateDeactivateForm=document.getElementById("ocamba-hood-settings-form-switch"),this.switchSlider=this.activateDeactivateForm.querySelector(".slider"),this.submitForm()}submitForm=()=>{this.inputCodeKey.addEventListener("input",()=>{document.getElementById("ocamba-hood-settings-form-switch").querySelector(".slider")&&(this.inputCodeKey.value===this.inputCodeKey.dataset.presentCodeKey?(this.submitButton.disabled=!0,this.activateDeactivateForm.elements.activateAndDeactivateCodeKey.disabled=!1,this.switchSlider.classList.remove("disabledSwitch")):(this.submitButton.disabled=!1,this.activateDeactivateForm.elements.activateAndDeactivateCodeKey.disabled=!0,this.switchSlider.classList.add("disabledSwitch")))}),document.getElementById("activateAndDeactivateCodeKey").addEventListener("change",t=>{let o=document.getElementById("ocamba-hood-settings-form-switch"),a=this.activateDeactivateForm.action,e=this.activateDeactivateForm.elements.activateAndDeactivateCodeKey.checked,i=o.elements._wpnonce.value,s=new URLSearchParams({ocamba_hood_options_verify_activate_deactivate:i,action:"admin_activate_deativate_code_key_submision",code_key_active:e});this.fetchFunction(a,s,this.submitActivateOrDeactivateCodeKey.bind(this))}),document.getElementById("submit").addEventListener("click",t=>{t.preventDefault();let o=document.getElementById("ocamba-hood-settings-form"),a=o.action,e=this.inputCodeKey.value,i=o.elements._wpnonce.value,s=new URLSearchParams({ocamba_hood_options_verify:i,action:"admin_code_key_subbmision",code_key:this.inputCodeKey.value});e===""?this.inputCodeKeyValidation(ocambaI18n.emptyCodeKey):e.length<32||e.length>44?this.inputCodeKeyValidation(ocambaI18n.notValidCodeKeyLength):e===this.inputCodeKey.dataset.presentCodeKey?this.inputCodeKeyValidation(ocambaI18n.CodeKeyDidNotChaged):(this.inputCodeKey.style.border="1px solid #8c8f94",this.fetchFunction(a,s,this.submitCodeKey.bind(this),!0))})};inputCodeKeyValidation(t){this.submitCodeKey({success:!1,data:{message:t,state:"error",status_code:400}}),document.getElementById("code_key").style.border="1px solid #d63638",setTimeout(function(){document.getElementById("code_key").style.border="1px solid #8c8f94"},5e3)}fetchFunction(t,o,a,e=!1){let i=document.querySelector("#loadingDialog");i.showModal(),fetch(t,{method:"POST",body:o}).then(s=>s.json()).then(s=>{a(s,e)}).catch(s=>{console.error("Error:",s)}).finally(()=>{i.close()})}submitActivateOrDeactivateCodeKey(t){t.data.state===!0?(this.inputCodeKey.disabled=!1,this.inputCodeKey.value!==this.inputCodeKey.dataset.presentCodeKey&&(this.submitButton.disabled=!1)):t.data.state===!1&&(this.inputCodeKey.disabled=!0,this.submitButton.disabled=!0),this.submitCodeKey(t)}submitCodeKey(t,o=!1){if(o&&t.success&&(this.inputCodeKey.dataset.presentCodeKey=this.inputCodeKey.value,this.submitButton.disabled=!0,this.activateDeactivateForm.elements.activateAndDeactivateCodeKey.disabled=!1,this.switchSlider.style.cssText='background-color: "", cursor: ""',this.switchSlider.classList.remove("disabledSwitch")),document.getElementById("ocambaPluginWrap")){let a=document.getElementById("responseHolder");a.innerHTML="";let e=document.createElement("div");e.className="ocambaMessageContainer o1 h-100 t0dot3s pRel df minH53px jcsb aic notice notice-"+(t.success?"success":"error"),e.innerHTML=t.data.message;let i=document.createElement("button");i.className="notice-dismiss",i.innerHTML='<span class="screen-reader-text">'+ocambaI18n.dismisThisNotice+"</span>",e.appendChild(i),i.addEventListener("click",()=>{e.animate({opacity:0},{duration:300,easing:"linear",iterations:1,fill:"both"}).onfinish=function(){e.classList.add("hideObject"),e.remove(),a.innerHTML=""}}),a.append(e)}}}class c{admin_ocamba_hood;constructor(){this.admin_ocamba_hood=new n}}new c;
